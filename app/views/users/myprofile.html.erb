<header>
<div class="text is-size-3 has-text-weight-bold has-text-centered"> Your Profile Page: <%=@user.name%></div>
</header>
<body>
<div class="columns">
    <div class="column">
<div class="text is-size-4 has-text-weight-bold has-text-primary"> <h4> Your recipes </h4></div>
  <ul>
    <%@user.owned_recipes.each do |recipe|%>
      <li><%=link_to recipe.name, recipe_path(recipe)%></li>
    <%end%>
  </ul>
  <div class="text is-size-4 has-text-weight-bold has-text-primary"> <h4> Recipes </h4></div>
  <ul>
    <%@user.recipes.each do |recipe|%>
      <li><%=link_to recipe.name, recipe_path(recipe)%></li>
    <%end%>
  </ul>
  <%= button_to("New Recipe", new_user_recipe_path(@user), method: :get) %>
</div>
  <div class="column">
<div class="text is-size-4 has-text-weight-bold has-text-primary"> <h4> Dinners </h4></div>
  <% if @created_dinners %>
    <div class="text is-size-4 has-text-weight-bold has-text-primary"> <h4> My Dinners </h4></div>
    <ul>
      <%@created_dinners.each do |dinner|%>
        <li>
          <%=link_to dinner.name, dinner_path(dinner)%>
          <% if dinner.upcoming? %>
          <%=form_for @course do |f|%>
            <%=f.hidden_field :dinner_id, :value=>dinner.id %>
            <div class="field">
            <div class="control">
              <div class="select is-success">
            <%=f.collection_select :userrecipe_id, @user.userrecipes, :id, :recipe_name%>
          </div>
        </div>
      </div>
        <div class="field">
        <div class="control">
          <div class="select is-success">
            <%=f.select :course_type, Recipe.course_type%>
        </div>
      </div>
    </div>
            <%=f.submit 'Add Course'%>
          <%end%>
          <%=form_for @drink do |f|%>
            <%=f.hidden_field :dinner_id, :value=>dinner.id %>
            <%=f.hidden_field :user_id, :value=>@user.id%>
            <div class="field">
            <div class="control">
              <div class="select is-success">
            <%=f.select :drink_type, Drink.drink_designations%>
              </div>
            </div>
          </div>
          <div class="field">
          <div class="control">
            <div class="select is-success">
            <%=f.select :quantity, 1..10%>
              </div>
            </div>
          </div>
            <%=f.submit 'Add Drink'%>
          <%end%>

          <%end %>
        </li>
      <%end%>
    </ul>
  <% end %>
  <% if @invited_dinners  %>
    <div class="text is-size-4 has-text-weight-bold has-text-primary"> <h4> Pending Invites </h4></div>
      <ul>
        <%@invited_dinners.each do |invite| %>
          <li>
            <%=link_to invite.dinner.name, dinner_path(invite.dinner)%>
            <%= button_to("Accept Invite", invite_accept_path(invite), method: :put) %>
            <%= button_to("Reject Invite", invite_reject_path(invite), method: :put) %>
          </li>
        <%end%>
      </ul>
  <% end %>

  <% if @accepted_dinners %>
  <div class="text is-size-4 has-text-weight-bold"> <h4> Accepted Dinners: </h4></div>
   <div class="text is-size-4 has-text-weight-bold has-text-primary"> <h4> Upcoming Dinners: </h4></div>
   <ul>
     <%@accepted_dinners.each do |accepted| %>
     <% if accepted.dinner.upcoming? && accepted.dinner.host != @user%>
       <li>

          <%=link_to accepted.dinner.name, dinner_path(accepted.dinner)%>
             <%=form_for @course do |f|%>
               <%=f.hidden_field :dinner_id, :value=>accepted.dinner.id %>
               <%=f.collection_select :userrecipe_id, @user.userrecipes, :id, :recipe_name%>
               <%=f.select :course_type, Recipe.course_type%>
               <%=f.submit 'Add Course'%>
             <%end%>
           <%=form_for @drink do |f|%>
             <%=f.hidden_field :dinner_id, :value=>accepted.dinner.id %>
             <%=f.hidden_field :user_id, :value=>@user.id%>
             <%=f.select :drink_type, Drink.drink_designations%>
             <%=f.select :quantity, 1..10%>
             <%=f.submit 'Add Drink'%>
             <%end%>
       <% end %>
       </li>
     <%end%>
   </ul>

    <div class="text is-size-4 has-text-weight-bold has-text-danger"> <h4> Past Dinners: </h4></div>
     <ul>
       <%@accepted_dinners.each do |accepted| %>
           <% if accepted.dinner.upcoming? == false && accepted.dinner.host != @user%>
         <li>
             <%=link_to accepted.dinner.name, dinner_path(accepted.dinner)%>
         <% end %>

        </li>
       <%end%>
 <% end %>
 </ul>
 <%= button_to('Create a Dinner Plan', new_dinner_path, method: :get)%>
 </div>
 </div>
</body>
